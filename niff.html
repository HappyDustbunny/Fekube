<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="This is an attempt at building an inclusive game involving both thinking and physical activity">
        <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Niff</title>

    <link rel="stylesheet" href="niff.css">

    <script>document.write("<script src='qr-code-styling.js'><\/script>")</script>
    <script src="qr-code-styling.js" type="text/plain"></script>
    
    <script>document.write("<script src='html5-qrcode.min.js'><\/script>")</script>
    <script src="html5-qrcode.min.js" type="text/plain"></script>

    <script src="niff.js" type="text/javascript" defer></script>
</head>

<body onload="setUpFunction()">
    <div id="page">
        <header id="headContainer">
            <div id="globalManaCounter"> <span>Samlet Mana</span> <span class="score"> 0 </span> </div>
            <h1 id="gameName">Niff</h1>
            <div id="amulet" hidden> &#x1FAAC; </div>
            <div id="booster" hidden> &#x2728; </div>
            <div id="localManaCounter"> <span>Nyhøstet Mana</span> <span class="score"> 0 </span> </div>
            <div id="progressBarContainer" hidden>
                <progress id="progressBar"></progress>
            </div>
        </header>


        <div id="intro">
            <!-- <div id="chooseGameMode">
                <p>Vælg game mode</p>
                <button id="coordinator" tabindex="1"> Tovholder * </button>
                <br>
                <Button id="normal" tabindex="1"> Normal </Button>
            </div> -->
            <br><br><br>

        
            <details> <summary class="frontpageSummary" tabindex="1"> Introduktion </summary> 
                <p> Feerne mangler mana </p>
                <p> Jeres opgave er at samle mana fra verdener, der ikke bruger deres </p>
                <p> Start med at sætte Portal-ankrene 1-12 (Se FAQ) op 
                    i en cirkel som en gammeldags urskive</p>
                <p> Sæt derefter det sidste Portal-anker ("0") i midten af cirkelen </p>
                <p> Vælg &eacute;n tovholder for holdet (Se FAQ) og start så spillet med at vælge et ritual <br>
                    (Vælg ritual ud fra hvor meget du har lyst til at bevæge dig og tænke) </p>
                
                <p class="collapseDetailDiv"><button onclick="closest('details').removeAttribute('open')"> 
                    Luk Introduktion </button></p>
                <br>
            </details>
            <details> <summary class="frontpageSummary" tabindex="2"> Baggrund </summary>
                <p> Feerne troede at mana var en uudtømmelig ressource. <br>
                    Det passede selvfølgelig ikke. </p>
                <p> Heldigvis kan mana samles i parallelle verdener og spredes her i Niff, feernes rige, 
                    ved hjælp af magi. </p>
                
                <p> Det er slut med ekstravagante flyvende slotte og med at bruge magi til 
                    trivielle hverdagsopgaver som opvask, men livet er ikke blevet dårligere i Niff, 
                    næsten tværtimod. <br>
                    Uendelige baller og strengt hieraki er afløst af ansvarlighed og samarbejde, samt 
                    meningsfulde opgaver som skånsomt at høste mana i tomme verdener. <br>
                    Dronningen er den eneste der er lidt ked af det, men hun var ikke særligt sød ved 
                    andre før manaen slap op, så det er okay. </p>

                <h5> Spillets gang </h5>
        
                <p> Høsten foregår ved at feerne mødes i midten og åbner en portal til en anden 
                    verden. <br> Det foregår ved at tovholderen scanner hver af feernes magiske tavler </p>
                <p> Så samler feerne mana ind ved at udføre deres valgte ritual indtil portalen lukkes. <br> 
                    Der er mange forskellige ritualer til at høste mana med, så feerne foretager 
                    sig ofte vidt forskellige ting. <br> 
                    De fleste ritualer involverer dog de fælles portal-ankre.
                </p>
                <p> Derefter samles den indsamlede mana af tovholderen, der skanner alles tavler og 
                    til slut spredes manaen ved et sidste ritual, hvor feerne danner 'Kraftens tårn' </p>
                <p> For at danne Kraftens Tårn holder feerne deres tavler over hinanden, med tovholderens 
                    magiske tavle nederst. (&#x1F4F1; &#x1F4F2; &#x1F4F2; &#x1F4F2; ...)  </p>
                <p> Når tavlerne skannes, strømmer magien opad gennem tårnet af tavler og 
                    forstærkes (Den øverste tavle flyttes i bunden, når den har skannet den nedenunder).<br>
                    Efter at manaen er løbet op gennem tårnet noget gange, udløses den 
                    og spredes over hele Niff.  </p>

                <h5> Magi og risiko</h5>
                
                <p> Ritualet der åbner en portal til en anden verden, undgår verdener som indeholder magiske 
                    samfund ligesom feernes. <br>
                    Da der er uendeligt mange verdener, gør det ikke noget at høste lidt magi fra alle de 
                    tomme verdener. </p>
                <p> I enkelte verdener findes vilde dyr, der jager ved hjælp af magi. <br>
                    Er der et af dem der støder ind i en uheldig fe, kan de godt gå i panik 
                    og angribe feen. <br>
                    De løber dog altid væk lige efter angrebet, så høsten kan fortsætte, når feen 
                    er blevet healet.  </p>
                <p> En fe kan heale sig selv ved at scanne portal-ankeret "0" flere gange (eller 
                    scanne healerens magiske tavle en enkelt gang, hvis der er en der har valgt rollen som healer). </p>
                <p> Det er muligt at bruge mana på at købe en amulet der beskytter mod rovdyrangreb, 
                    men de er ret dyre. <br> 
                    Hvis man ikke kan lide overraskelser og afbrydelser, er en amulet dog en god investering.
                </p>
                <p> Mana kan høstes ved at tiltrække og jage de magiske rovdyr, men ikke alle feer finder
                    det moralsk rigtigt at dræbe dyr. <br>
                    Hvis der <em>er</em> jægere på holdet, koncentrerer rovdyrene sig om jægerne, og de andre feer 
                    behøver ikke at bekymre sig om angreb og healing.
                </p>
                
                <p class="collapseDetailDiv"><button onclick="closest('details').removeAttribute('open')"> 
                    Luk Baggrund </button> </p>
                <br>
            </details>
            
            <details> <summary class="frontpageSummary" tabindex="3">FAQ</summary>

                <h5> Tovholder </h5>
                <p> Tovholderens opgave er at koordinere, så ritualerne kan fungere </p>
                <p> Tovholderen er ikke en "leder", blot en slags koordinator </p>
                <p> Der kan kun være en tovholder </p>
                
                <h5> Hvad er Portal-ankre? </h5>
                <p> Portal-ankrene er 13 QR-koder der printes eller lasercuttes før spillet starter. <br><br>
                    Hvis du ikke står overfor at skulle printe filerne, så lad venligst være med at hente 
                    dem. <br> 
                    Det sparer data. <br> 
                    Og det er bare to A4 ark med store QR-koder &#x1F60A;
                </p>
                <p> 
                    Her kan man hente en <a href="qr-codes/QRcodesForPrint.pdf"> PDF til at printe </a> 
                    og her er en <a href="qr-codes/QRcodesForLasercuttin.zip"> SVG-fil til at lasercutte </a> 
                </p>
                
                <h5> Hvilke data samler spillet? </h5>
                <p> Ingen! <br><br> Der bliver gemt lidt data på din telefon, men jeg har ikke adgang til dem.</p>
                <p> Hvis du installerer appen på hjemmeskærmen, er den eneste kontakt med min hjemmeside, 
                    når appen hører om der er opdateringer. </p>
    
                <h5> Hvorfor er grafikken så ringe? </h5>
                <p> Flot grafik og billleder fylder. Ved at holde spillet primitivt rent grafisk, har 
                    jeg råd til at hoste det, selv hvis det bliver halv-populært.</p>
                <p> Hvis du installerer appen når den foreslår det, sparer vi begge data fordi appen så
                    ikke skal hentes, hver gang du vil spille. </p>
    
                <h5> Hvorfor tager du ikke penge for spillet? </h5>
                <p> <a href="https://youtu.be/7FiHlCMt1Ws"> Det er dyrt og besværligt at 
                    kræve penge ind. </a> </p>
                    <p> Jeg har moret mig med at lave spillet, og hvis du morer dig med at spille det, er 
                    vi begge gladere &#x1F603; </p>
                    
                <p class="collapseDetailDiv"><button onclick="closest('details').removeAttribute('open')"> 
                    Luk FAQ </button> </p>
            </details>
            
            <br><br><br><br><br>

            <div id="startDiv">
                <button id="start" tabindex="4"> Start </button> <br>
                <p>
                    <span id="soloSpan"> <input type="checkbox" id="solo" tabindex="5"> Solo </span>
                    <span id="coordinatorSpan"> <input type="checkbox" id="coordinator" tabindex="6"> Tovholder </span>
                    <form id="timeChooseDiv" hidden>
                        Rundelængde <br>
                        <span><input type="radio" name="timeChooser" value="1">1 </span>
                        <span><input type="radio" name="timeChooser" value="5" checked>5 </span>
                        <span><input type="radio" name="timeChooser" value="10">10 min</span>
                    </form>
                </p>
            </div>
        </div>

        <div id="selectRole">
            <div id="startInstruktion">
                <p>Vælg aktivitetsniveau </p> 
                <p id="secondInstruction"> ... og så sværhedsgrad <br></p>
            </div>
    
            <div id="selectRoleContainer">
                <details> <summary class="summaryHeading"> &#x1f9cd;&#x200d;&#x2640;&#xFE0F; &#x1FA91;</summary>
                    <details><summary class="summarySubHeading">&#x1F914;</summary>
                        <details><summary class="summarySubSubHeading">Healer</summary>
                            Vær klar til at hjælpe feer der er kommet til <br> skade ved at lade dem scanne din 
                            skærm. <br> Saml mana ved at scanne "0" en gang imellem
                            <button id="M1T1G1"> Vælg </button>
                        </details>
                    </details>
                    <details><summary class="summarySubHeading">&#x1F914;&#x1F914;</summary>
                    </details>
                    <details><summary class="summarySubHeading">&#x1F914;&#x1F914;&#x1F914;</summary>
                    </details>
                </details>
    
                <details> <summary class="summaryHeading">&#x1f6b6;&#x1F3fF; &#x1F469;&#x200D;&#x1F9BC;&#x200D;&#xFE0F;</summary>
                    <details><summary class="summarySubHeading">&#x1F914;</summary>
                        <details><summary class="summarySubSubHeading">Skan i rækkefølge</summary>
                            Skan QR-koderne i rækkefølge, med eller mod uret 
                            <button id="M2T1G1"> Vælg </button>
                        </details>
                    </details>
                    <details><summary class="summarySubHeading">&#x1F914;&#x1F914;</summary>
                        <details><summary class="summarySubSubHeading">Indstil visere</summary>
                            Indstil viserne, så de viser samme tid som digitaluret 
                            <button id="M2T2G1"> Vælg </button>
                        </details>
                    </details>
                    <details><summary class="summarySubHeading">&#x1F914;&#x1F914;&#x1F914;</summary>
                        <details><summary class="summarySubSubHeading">Indstil visere</summary>
                            Indstil viserne, så de viser samme tid som teksten 
                            <button id="M2T3G1"> Vælg </button>
                        </details>
                        <details><summary class="summarySubSubHeading">Find ord</summary>
                            Skan QR-koder der svarer til de viste bogstaver for at danne nye ord
                            <button id="M2T3G2"> Vælg </button>
                        </details>
                    </details>
                </details>
    
                <details> <summary class="summaryHeading">&#x1f3c3;&#x1F3Fe;&#x200d;&#x2640;&#xFE0F; &#x1f9D1;&#x1F3fD;&#x200D;&#x1F9BD; </summary>
                    <details><summary class="summarySubHeading">&#x1F914;</summary>
                        <details><summary class="summarySubSubHeading">Skan løs</summary>
                            Scan så mange QR-koder som muligt. <br> Jo længere QR-koderne ligger fra hinanden, jo mere mana samles der ind
                            <button id="M3T1G1"> Vælg </button>
                        </details>
                        <details><summary class="summarySubSubHeading">Følg det viste mønster</summary>
                            Scan den QR-kode din skærm viser, <br> for at få vist den næste QR-kode
                            <button id="M3T1G2"> Vælg </button>
                        </details>
                        <details><summary class="summarySubSubHeading">Følg mønster efter tal</summary>
                            Scan QR-koden med det tal din skærm viser, <br> for at få vist det næste tal
                            <button id="M3T1G3"> Vælg </button>
                        </details>
                    </details>
                    <details><summary class="summarySubHeading">&#x1F914;&#x1F914;</summary>
                        <details><summary class="summarySubSubHeading">Gentag mønster</summary>
                            Scan QR-koder i samme rækkefølge som skærmen viser
                            <button id="M3T2G1"> Vælg </button>
                        </details>
                    </details>
                    <details><summary class="summarySubHeading">&#x1F914;&#x1F914;&#x1F914;</summary>
                        <!-- <details><summary class="summarySubSubHeading">Vikl ud</summary>
                            Flyt knudepunkter så ingen linjer krydser <br>
                            Scan den knude der skal flyttes, og derefter det anker den skal flyttes til
                            <button id="M3T3G1"> Vælg </button> -->
                        </details>
                    </details>
                </details>
            </div>
        </div>
        
        <div id="gameMode">
            <div id="QrContainer">
                <div id="reader"></div> <br>
                <canvas id="canvasCameraOverlay" hidden></canvas> <!-- For showing monsters... -->
            </div>
            
            <!-- Container for displaying single line text -->
            <div id="textContainer">
                <div id="messageDiv"></div>
                <div id="showTextDiv"></div>
            </div>
    
            <p id="showAddingMana"></p>
    
            <!-- Contanier for communicating with player and meta-game -->
            <div id="communicationContainer">
                <div id="canvasQrShow"></div>
                <div id="canvasStack">
                    <canvas id="canvasClockface">Canvas here. If you can see this, the game is not playable on your device </canvas>
                    <canvas id="canvasClockfaceOverlay">Canvas here. If you can see this, the game is not playable on your device </canvas>
                </div>
            </div>
        </div>
        
        <div id="firstTradeInterval">
            <div id="firstTradeInfo" hidden></div>
            <div id="firstTradeResult"></div>
        </div>

        <div id="endGameInfo">
        </div>

        <!-- Contanier for interacting with game-states -->
        <footer id="navigationContainer" hidden>
            <button id="actionButton" type="button" hidden></button>
            <button id="action1Button" type="button" hidden></button>
            <button id="infoButton" type="button" hidden></button>
            <button id="advanceGameStateButton" type="button" hidden></button>
        </footer>

    </div>
</body>
</html>